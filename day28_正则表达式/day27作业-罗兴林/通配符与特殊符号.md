```### 此资源由 58学课资源站 收集整理 ###
	想要获取完整课件资料 请访问：58xueke.com
	百万资源 畅享学习

```
# 0今日作业要求

## 1.通配符和特殊符号篇

- 整理所学通配符、特殊符号的符号表格
- 有哪些符号、以及作用
- 符号的具体用法



## 2.正则表达式篇

- 预习正则表达式，记录
- 正则符号、符号作用参照表



# 今日练习题

## 1.笔记作业

1.参考老师提供的脑图大纲，做好自己的脑图笔记，包括

- 符号有哪些
- 符号的作用
- 符号的用法

- 今天先整理通配符、特殊符号
- 预习正则表达式符号，明天讲解该知识点





## 提示，unix风格的通配符表

| 符号        | 作用                       |
| ----------- | -------------------------- |
| [[:upper:]] | 所有大写字母               |
| [[:lower:]] | 所有小写字母               |
| [[:alpha:]] | 所有字母  alphabet         |
| [[:digit:]] | 所有数字  digit            |
| [[:alnum:]] | 所有的字母和数字           |
| [[:space:]] | 所有的空白字符             |
| [[:punct:]] | 所有标点符号   punctuation |

## 2.通配符练习题

> 如下题目，可以用尽可能多的办法，去解决
>
> 至少2种
>
> 提示，可以从通配符语法角度找，如linux风格、unix风格



1.找出/var下以字母s开头、任意小写字母结尾，中间至少出现一位数字的文件

```
find /var -type f -name  's*[0-9]*[a-z]'





[nodel root ~]#find /var -type f -name  's*[0-9]*[a-z]'
/var/lib/docker/overlay2/668f8f488b344ea460d5fd58599c7c7fae45b7e2360d7ea983d6a0f36e9e2a9c/diff/lib/terminfo/s/screen-256color
/var/lib/docker/overlay2/668f8f488b344ea460d5fd58599c7c7fae45b7e2360d7ea983d6a0f36e9e2a9c/diff/lib/terminfo/s/screen-256color-bce
/var/lib/docker/overlay2/668f8f488b344ea460d5fd58599c7c7fae45b7e2360d7ea983d6a0f36e9e2a9c/diff/lib/terminfo/s/screen.xterm-256color


[nodel root ~]#find /var -type f -name  s*[0-9]*[[:lower:]]
[a,b,c]
[a-z]  linux的风格
[[:lower:]]


/var/lib/docker/overlay2/668f8f488b344ea460d5fd58599c7c7fae45b7e2360d7ea983d6a0f36e9e2a9c/diff/lib/terminfo/s/screen-256color
/var/lib/docker/overlay2/668f8f488b344ea460d5fd58599c7c7fae45b7e2360d7ea983d6a0f36e9e2a9c/diff/lib/terminfo/s/screen-256color-bce
/var/lib/docker/overlay2/668f8f488b344ea460d5fd58599c7c7fae45b7e2360d7ea983d6a0f36e9e2a9c/diff/lib/terminfo/s/screen.xterm-256color
/var/lib/docker/overlay2/668f8f488b344ea460d5fd58599c7c7fae45b7e2360d7ea983d6a0f36e9e2a9c/diff/usr/bin/sha1sum

```

2.找出/etc/下以任意数字开头，且非数字结尾的文件





```
[0-9]*[!0-9]

[0-9]*[^0-9]




[nodel root ~]#find /etc/ -type f -name [0-9]*[^0-9]
/etc/fonts/conf.d/25-no-bitmap-fedora.conf
/etc/grub.d/00_header
/etc/grub.d/01_users
/etc/grub.d/10_linux

[nodel root ~]#find /etc/ -type f -name [0-9]*[!0-9]
/etc/fonts/conf.d/25-no-bitmap-fedora.conf
/etc/grub.d/00_header
/etc/grub.d/01_users


[nodel root ~]#find /etc/ -type f -name [[:digit:]]*[^[:digit:]]
/etc/fonts/conf.d/25-no-bitmap-fedora.conf
/etc/grub.d/00_header
/etc/grub.d/01_users

[nodel root ~]#find /etc/ -type f -name [[:digit:]]*[![:digit:]]
/etc/fonts/conf.d/25-no-bitmap-fedora.conf
/etc/grub.d/00_header
/etc/grub.d/01_users
```



3.找出/etc/下任意非字母开头的文件

```
[!a-zA-Z]*
```





```
[nodel root ~]#find /etc/ -type f -name [^[:alpha:]]*
/etc/fonts/conf.d/25-no-bitmap-fedora.conf
/etc/grub.d/00_header
/etc/grub.d/01_users


[nodel root ~]#find /etc/ -type f -name [![:alpha:]]*
/etc/fonts/conf.d/25-no-bitmap-fedora.conf
/etc/grub.d/00_header
/etc/grub.d/01_users


[nodel root ~]#find /etc/ -type f -name [!a-zA-Z]*
/etc/fonts/conf.d/25-no-bitmap-fedora.conf
/etc/grub.d/00_header
/etc/grub.d/01_users


[nodel root ~]#find /etc/ -type f -name [^a-zA-Z]*
/etc/fonts/conf.d/25-no-bitmap-fedora.conf
/etc/grub.d/00_header
/etc/grub.d/01_users

```

4.找出/etc/下任意非字母开头的文件，且后面紧跟一个数字，以及任意内容的文件\

```
[^a-zA-Z][0-9]*
```





```



[nodel root ~]#find /etc/ -type f -name [^a-zA-Z][0-9]*
/etc/fonts/conf.d/25-no-bitmap-fedora.conf
/etc/grub.d/00_header
/etc/grub.d/01_users


[nodel root ~]#find /etc/ -type f -name [!a-zA-Z][0-9]*
/etc/fonts/conf.d/25-no-bitmap-fedora.conf
/etc/grub.d/00_header
/etc/grub.d/01_users


[nodel root ~]#find /etc/ -type f -name [!a-zA-Z][[:digit:]]*
/etc/fonts/conf.d/25-no-bitmap-fedora.conf
/etc/grub.d/00_header
/etc/grub.d/01_users

[nodel root ~]#find /etc/ -type f -name [^a-zA-Z][[:digit:]]*
/etc/fonts/conf.d/25-no-bitmap-fedora.conf
/etc/grub.d/00_header
/etc/grub.d/01_users


[nodel root ~]#find /etc/ -type f -name [![:alpha:]][[:digit:]]*
/etc/fonts/conf.d/25-no-bitmap-fedora.conf
/etc/grub.d/00_header
/etc/grub.d/01_users

[nodel root ~]#find /etc/ -type f -name [^[:alpha:]][[:digit:]]*
/etc/fonts/conf.d/25-no-bitmap-fedora.conf
/etc/grub.d/00_header
/etc/grub.d/01_users

```

5.找出/etc/下所有以rc字母开头，且后面是0-6之间的数字，其他字符是任意内容的文件或目录。

```
rc[0-6]*

find /etc -name 'rc[0-6]*'
```





```
[nodel root ~]#find /etc/  -name rc[0-6]*
/etc/rc.d/rc0.d
/etc/rc.d/rc1.d
/etc/rc.d/rc2.d
/etc/rc.d/rc3.d
/etc/rc.d/rc4.d
/etc/rc.d/rc5.d
/etc/rc.d/rc6.d
/etc/rc0.d
/etc/rc1.d
/etc/rc2.d
/etc/rc3.d
/etc/rc4.d
/etc/rc5.d
/etc/rc6.d


```

6.找到/etc/下所有以 `.d` 结尾的文件或目录

```
find /etc -name '*.d'
```



```
[nodel root ~]#find /etc/  -name *.d
/etc/fonts/conf.d
/etc/grub.d
/etc/X11/fontpath.d
/etc/X11/xinit/Xclients.d


```

7.找出/etc下所有以`.conf`结尾的文件

你以后编译安装，yum安装了某一个数据库软件，你想找到它的配置文件在哪

```
配置文件后缀，一般是
*.conf

*.cnf

*.ini

*.yaml

*.xml


```





```
[nodel root ~]#find /etc/  -name *.conf
/etc/resolv.conf
/etc/fonts/conf.d/31-cantarell.conf
/etc/fonts/conf.d/65-0-lohit-marathi.conf
/etc/fonts/conf.d/10-scale-bitmap-fonts.conf
/etc/fonts/conf.d/65-0-lohit-telugu.conf
```

8.找出/etc下所有以`.conf`结尾的文件，并且要求文件开头是a,b,p字符之一。

```
[a,b,p]*.conf
```



```
[nodel root ~]#find /etc/ -type f  -name [abp]*.conf
/etc/libreport/events.d/bugzilla_event.conf
/etc/libreport/events.d/bugzilla_anaconda_event.conf
/etc/libreport/events.d/abrt_event.conf

[nodel root ~]#find /etc/ -type f  -name [a,b,p]*.conf
/etc/libreport/events.d/bugzilla_event.conf
/etc/libreport/events.d/bugzilla_anaconda_event.conf
/etc/libreport/events.d/abrt_event.conf
/etc/libreport/events.d/python_event.conf

```

9.显示出/root下所有的隐藏文件和目录

```
隐藏文件的语法特点
文件名以.开头

find /root -name '.*'

/root/.bash_profile
```





```
[nodel root ~]#find /root  -name '.*'
/root/.bash_logout
/root/.bash_profile
/root/.bashrc
/root/.cshrc
/root/.tcshrc
/root/.cache
/root/.cache/gnome-software/3.22/flatpak/installation-tmp/.changed
/root/.dbus
/root/.config
/root/.bash_history
/root/.ICEauthority
/root/.lesshst
/root/.ssh
/root/test/.hello.swp
/root/.viminfo
/root/.ip2.txt.swp
/root/.python_history
/root/.Xauthority
/root/.local
/root/.local/share/flatpak/.changed
/root/.local/share/tracker/data/.meta.isrunning
/root/.esd_auth
/root/.pki
/root/.mysql_history


```

10.显示出/root下所有的非隐藏文件和目录

```
[.*] 这个表示，以.开头 作为文件名的所有文件

[!.*] 这个就表示，取反，找到非.开头的文件




find /root -name '[!.]*'
```



```
找出root下所有的隐藏文件
[242-yuchao-class01 root ~]#find /root -name '[.]*'

找出root下所有的非隐藏文件
[242-yuchao-class01 root ~]#find /root -name '[!.]*'


```



```


[nodel root ~]#find /root/[^.]* -name '*'


/root/anaconda-ks.cfg
/root/chaoge
/root/chaoge/chaoge.txt
/root/data
/root/data/mysql
/root/data/mysql/database
/root/data/nginx
/root/data/nginx/www
/root/data/nginx/www/conf
/root/data/nginx/logs
/root/data/nginx/logs/access.log
/root/data/nginx/logs/access.log/txt
/root/data/nginx/html
/root/data/nginx/html/index.php
/root/data/test

```

11.使用通配符创建如下文件、目录结构

```

/testdir/
├── 70年代歌曲/
│   ├── 女歌手/
│   └── 男歌手/
│       ├── 刘德华.mp4
│       └── 黎明.mp4
└── 90年代歌曲/
    ├── 女歌手/
    └── 男歌手/
        ├── 周杰伦.mp4
        └── 陈奕迅.mp4
        
        
这个目录，可以使用 { }实现
mkdir -p /testdir/{70年代歌曲,90年代歌曲}/{男歌手,女歌手}

拆开
mkdir -p /testdir/70年代歌曲/男歌手
mkdir -p /testdir/70年代歌曲/女歌手

mkdir -p /testdir/90年代歌曲/男歌手
mkdir -p /testdir/90年代歌曲/女歌手

可以可以

touch /testdir/70年代歌曲/男歌手/{刘德华.mp4,黎明.mp4}  /testdir/90年代歌曲/男歌手/{周杰伦.mp4,陈奕迅.mp4}
```



要求两条命令

- 创建文件夹
- 创建文件





```

[nodel root ~]#mkdir -p /testdir/{70,90}年代歌曲/{女,男}歌手;touch /testdir/70年代歌曲/男歌手/{刘德华,黎明}.mp4 /testdir/90年代歌曲/男歌手/{周杰伦,陈奕迅}.mp4
[nodel root ~]#tree -FN /testdir/
/testdir/
├── 70年代歌曲/
│   ├── 女歌手/
│   └── 男歌手/
│       ├── 刘德华.mp4
│       └── 黎明.mp4
└── 90年代歌曲/
    ├── 女歌手/
    └── 男歌手/
        ├── 周杰伦.mp4
        └── 陈奕迅.mp4

6 directories, 4 files
[nodel root ~]#


[nodel root ~]#mkdir -p /testdir/{70,90}年代歌曲/{女,男}歌手 && touch /testdir/70年代歌曲/男歌手/{刘德华,黎明}.mp4 /testdir/90年代歌曲/男歌手/{周杰伦,陈奕迅}.mp4 && tree -FN /testdir
/testdir
├── 70年代歌曲/
│   ├── 女歌手/
│   └── 男歌手/
│       ├── 刘德华.mp4
│       └── 黎明.mp4
└── 90年代歌曲/
    ├── 女歌手/
    └── 男歌手/
        ├── 周杰伦.mp4
        └── 陈奕迅.mp4

6 directories, 4 files
[nodel root ~]#


[nodel root ~]#mkdir -p /testdir/{70,90}年代歌曲/{女,男}歌手; touch /testdir/70年代歌曲/男歌手/{刘德华,黎明}.mp4 /testdir/90年代歌曲/男歌手/{周杰伦,陈奕迅}.mp4;tree -FN /testdir
/testdir
├── 70年代歌曲/
│   ├── 女歌手/
│   └── 男歌手/
│       ├── 刘德华.mp4
│       └── 黎明.mp4
└── 90年代歌曲/
    ├── 女歌手/
    └── 男歌手/
        ├── 周杰伦.mp4
        └── 陈奕迅.mp4

6 directories, 4 files
[nodel root ~]#

```

12.备份网卡配置文件为.ori后缀。

```
[nodel root ~]#cp /etc/sysconfig/network-scripts/ifcfg-ens33{,.ori}
[nodel root ~]#ls /etc/sysconfig/network
network          network-scripts/ 
[nodel root ~]#ls /etc/sysconfig/network
network          network-scripts/ 
[nodel root ~]#ls /etc/sysconfig/network-scripts/
ifcfg-ens33      ifdown-bnep  ifdown-ipv6  ifdown-routes    ifdown-tunnel  ifup-eth   ifup-isdn   ifup-ppp     ifup-TeamPort     network-functions
ifcfg-ens33.ori  ifdown-eth   ifdown-isdn  ifdown-sit       ifup           ifup-ib    ifup-plip   ifup-routes  ifup-tunnel       network-functions-ipv6
ifcfg-lo         ifdown-ib    ifdown-post  ifdown-Team      ifup-aliases   ifup-ippp  ifup-plusb  ifup-sit     ifup-wireless
ifdown           ifdown-ippp  ifdown-ppp   ifdown-TeamPort  ifup-bnep      ifup-ipv6  ifup-post   ifup-Team    init.ipv6-global

```

13.备份/var/log/nginx日志文件，以当前年月日命名，如`access_2022-04-11.log`

```
备份 
/var/log/nginx/access.log
/var/log/nginx/access.log2
/var/log/nginx/access.log3
/var/log/nginx/access_2022-04-11.log


```



- 日志基本是一天一切割
- 要求2个写法

```
[nodel root ~]#cp /var/log/nginx/access.log /var/log/nginx/"access_`date +%F`.log"
[nodel root ~]#cd /var/log/nginx/
[nodel root /var/log/nginx]#ll
total 16
-rw-r----- 1 root  root   0 Apr 11 16:24 access_2022-04-11.log
-rw-r----- 1 nginx adm    0 Mar 31 18:27 access.log
-rw-r----- 1 nginx adm  230 Mar 25 21:19 access.log-20220326.gz
-rw-r----- 1 nginx root 182 Mar 29 21:22 access.log-20220330
-rw-r----- 1 nginx adm    0 Mar 31 18:27 error.log
-rw-r----- 1 nginx adm  213 Mar 25 21:19 error.log-20220326.gz
-rw-r----- 1 nginx root 554 Mar 28 20:19 error.log-20220329


[nodel root /var/log/nginx]#cp /var/log/nginx/access.log /var/log/nginx/"access_$(date +%F).log"
[nodel root /var/log/nginx]#ll
total 16
-rw-r----- 1 root  root   0 Apr 11 16:25 access_2022-04-11.log
-rw-r----- 1 nginx adm    0 Mar 31 18:27 access.log

[nodel root /var/log/nginx]#cp /var/log/nginx/access.log{,"`date +%F`"}
[nodel root /var/log/nginx]#ll
total 16
-rw-r----- 1 nginx adm    0 Mar 31 18:27 access.log
-rw-r----- 1 nginx adm  230 Mar 25 21:19 access.log-20220326.gz
-rw-r----- 1 nginx root 182 Mar 29 21:22 access.log-20220330
-rw-r----- 1 root  root   0 Apr 11 16:27 access.log2022-04-11
-rw-r----- 1 nginx adm    0 Mar 31 18:27 error.log
-rw-r----- 1 nginx adm  213 Mar 25 21:19 error.log-20220326.gz
-rw-r----- 1 nginx root 554 Mar 28 20:19 error.log-20220329

[nodel root /var/log/nginx]#cp /var/log/nginx/access.log{,_"`date +%F`"}
[nodel root /var/log/nginx]#ll
total 16
-rw-r----- 1 nginx adm    0 Mar 31 18:27 access.log
-rw-r----- 1 nginx adm  230 Mar 25 21:19 access.log-20220326.gz
-rw-r----- 1 nginx root 182 Mar 29 21:22 access.log-20220330
-rw-r----- 1 root  root   0 Apr 11 16:28 access.log_2022-04-11
-rw-r----- 1 root  root   0 Apr 11 16:27 access.log2022-04-11
-rw-r----- 1 nginx adm    0 Mar 31 18:27 error.log
-rw-r----- 1 nginx adm  213 Mar 25 21:19 error.log-20220326.gz
-rw-r----- 1 nginx root 554 Mar 28 20:19 error.log-20220329

```











